!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("AsyncAbort",[],t):"object"==typeof exports?exports.AsyncAbort=t():e.AsyncAbort=t()}(this,(function(){return(()=>{"use strict";var e={d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{default:()=>i});var n={ITEM_NOT_OBJECT:new Error("MultiIndexMap: cannot add item as it is not an object"),INDEXED_PROPERTY_NOT_FOUND_IN_ITEM:new Error("MultiIndexMap: cannot add as an indexed property is not found in item"),INDEXNAMES_EMPTY:new Error("MultiIndexMap: index names cannot be empty or undefined")};const i=function(){function e(e,t){void 0===t&&(t=[]);var i=this;if(!(null==e?void 0:e.length))throw n.INDEXNAMES_EMPTY;this.indexNames=e;var r=e[0],o=e.slice(1);this.primeIndex=r,this.primeIndexItemMap=new Map,this.nonPrimiIndexesMap=t.reduce((function(e,t){if("object"!=typeof t)throw n.ITEM_NOT_OBJECT;if(!t.hasOwnProperty(r))throw n.INDEXED_PROPERTY_NOT_FOUND_IN_ITEM;return i.primeIndexItemMap.set(t[r],t),o.forEach((function(i){var o;if(!t.hasOwnProperty(i))throw n.INDEXED_PROPERTY_NOT_FOUND_IN_ITEM;null===(o=e.get(i))||void 0===o||o.set(t[i],t[r])})),e}),new Map(e.map((function(e){return[e,new Map]}))))}return e.prototype.get=function(e,t){var n;return e===this.primeIndex?this.primeIndexItemMap.get(t):this.primeIndexItemMap.get(null===(n=this.nonPrimiIndexesMap.get(e))||void 0===n?void 0:n.get(t))},e.prototype.set=function(e){var t;for(var i in this.indexNames)if(!e.hasOwnProperty(i))throw n.INDEXED_PROPERTY_NOT_FOUND_IN_ITEM;var r=this.indexNames,o=r[0],a=r.slice(1);for(var i in this.primeIndexItemMap.set(e[o],e),a)null===(t=this.nonPrimiIndexesMap.get(i))||void 0===t||t.set(e[i],e[o])},e.prototype.has=function(e,t){var n;return!!(null===(n=this.nonPrimiIndexesMap.get(e))||void 0===n?void 0:n.has(t))},e.prototype.delete=function(e,t){var n,i=this.get(e,t);if(i){var r=this.indexNames,o=r[0],a=r.slice(1);for(var s in a)null===(n=this.nonPrimiIndexesMap.get(s))||void 0===n||n.delete(i[s]);this.primeIndexItemMap.delete(i[o])}},e}();return t.default})()}));