!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("MultiIndexMap",[],t):"object"==typeof exports?exports.MultiIndexMap=t():e.MultiIndexMap=t()}(this,(function(){return(()=>{"use strict";var e={d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{default:()=>n});const n=function(){function e(e,t){void 0===t&&(t=[]);var n=this;if(!(null==e?void 0:e.length))throw new Error("MultiIndexMap: index names cannot be empty or undefined");this.indexNames=e;var i=e[0],r=e.slice(1);this.primeIndex=i,this.nonPrimeIndexes=r,this.__initMaps(),t.forEach((function(e){return n.set(e)}))}return e.prototype.__initMaps=function(){this.primeIndexItemMap=new Map,this.nonPrimeIndexesMap=new Map(this.nonPrimeIndexes.map((function(e){return[e,new Map]})))},e.prototype.get=function(e,t){var n;return e===this.primeIndex?this.primeIndexItemMap.get(t):this.primeIndexItemMap.get(null===(n=this.nonPrimeIndexesMap.get(e))||void 0===n?void 0:n.get(t))},e.prototype.set=function(e){var t=this;if("object"!=typeof e)throw new Error("MultiIndexMap: cannot add item as it is not an object");this.indexNames.forEach((function(n){if(!e.hasOwnProperty(n))throw new Error("MultiIndexMap: cannot add as an indexed property is not found in item");if(t.has(n,e[n]))throw new Error("MultiIndexMap: indexed prop values should be unique")})),this.primeIndexItemMap.set(e[this.primeIndex],e),this.nonPrimeIndexes.forEach((function(n){var i;null===(i=t.nonPrimeIndexesMap.get(n))||void 0===i||i.set(e[n],e[t.primeIndex])}))},e.prototype.has=function(e,t){var n;return e===this.primeIndex?this.primeIndexItemMap.has(t):!!(null===(n=this.nonPrimeIndexesMap.get(e))||void 0===n?void 0:n.has(t))},e.prototype.delete=function(e,t){var n=this,i=this.get(e,t);i&&(this.nonPrimeIndexes.forEach((function(e){var t;null===(t=n.nonPrimeIndexesMap.get(e))||void 0===t||t.delete(i[e])})),this.primeIndexItemMap.delete(i[this.primeIndex]))},e.prototype.keys=function(e){var t;return e===this.primeIndex?this.primeIndexItemMap.keys():null===(t=this.nonPrimeIndexesMap.get(e))||void 0===t?void 0:t.keys()},e.prototype.values=function(){return this.primeIndexItemMap.values()},e.prototype.clear=function(){this.__initMaps()},Object.defineProperty(e.prototype,"size",{get:function(){return this.primeIndexItemMap.size},enumerable:!1,configurable:!0}),e}();return t.default})()}));